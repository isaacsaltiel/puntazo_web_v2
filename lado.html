<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <base href="/" />
  <title>Puntazo</title>

  <!-- Favicon principal -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />

  <!-- Favicons Apple -->
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png" />
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png" />
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png" />
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png" />

  <!-- Favicons Android / otros -->
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/android-icon-192x192.png" />
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png" />

  <!-- Manifest y color de tema -->
  <link rel="manifest" href="/assets/icons/manifest.json" />
  <meta name="msapplication-TileColor" content="#ffffff" />
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png" />
  <meta name="theme-color" content="#ffffff" />

  <!-- Estilos -->
  <link rel="stylesheet" href="/assets/estilo.css" />
  <link rel="stylesheet" href="/assets/inicio.css" />
</head>
<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/sw.js").catch(console.error);
  }
</script>

<script>
  // ==========================
  // PWA Install Button (All phones)
  // ==========================
  let deferredPrompt = null;

  const installBtn = document.getElementById("installPuntazoBtn");
  const modal = document.getElementById("installModal");
  const stepsEl = document.getElementById("installSteps");
  const closeModalBtn = document.getElementById("closeInstallModal");

  function isIOS() {
    return /iphone|ipad|ipod/i.test(navigator.userAgent);
  }

  function isStandalone() {
    return window.matchMedia("(display-mode: standalone)").matches || window.navigator.standalone === true;
  }

  function openModal(steps = []) {
    if (!modal || !stepsEl) return;
    stepsEl.innerHTML = steps.map(s => `<li>${s}</li>`).join("");
    modal.classList.add("show");
    modal.setAttribute("aria-hidden", "false");
  }

  function closeModal() {
    if (!modal) return;
    modal.classList.remove("show");
    modal.setAttribute("aria-hidden", "true");
  }

  if (closeModalBtn) closeModalBtn.addEventListener("click", closeModal);
  if (modal) modal.addEventListener("click", (e) => {
    if (e.target && e.target.classList.contains("install-backdrop")) closeModal();
  });

  // Captura el evento de instalaciÃ³n (Android/Chrome/Edge)
  window.addEventListener("beforeinstallprompt", (e) => {
    e.preventDefault();
    deferredPrompt = e;
  });

  // Click del botÃ³n instalar
  if (installBtn) {
    installBtn.addEventListener("click", async (e) => {
      e.preventDefault();

      // Si ya estÃ¡ instalada
      if (isStandalone()) {
        openModal([
          "Puntazo ya estÃ¡ instalado âœ…",
          "Busca el Ã­cono en tu pantalla de inicio."
        ]);
        return;
      }

      // Android/Chrome: prompt real
      if (deferredPrompt) {
        deferredPrompt.prompt();
        const choice = await deferredPrompt.userChoice;
        deferredPrompt = null;

        if (choice && choice.outcome === "accepted") {
          openModal([
            "Listo âœ… Ya quedÃ³ Puntazo como app.",
            "Ahora lo abres desde tu pantalla de inicio."
          ]);
        } else {
          openModal([
            "Sin problema ğŸ˜„",
            "Si luego quieres instalarlo, vuelve a tocar 'Instalar Puntazo'."
          ]);
        }
        return;
      }

      // iPhone/Safari: instrucciones manuales
      if (isIOS()) {
        openModal([
          "Abre Puntazo en Safari (importante).",
          "Toca el botÃ³n de compartir (â¬†ï¸).",
          "Elige: â€œAÃ±adir a pantalla de inicioâ€.",
          "Listo: se instala como app."
        ]);
        return;
      }

      // Otros Android browsers: instrucciones genÃ©ricas
      openModal([
        "Abre el menÃº del navegador (â‹® o âš™ï¸).",
        "Busca: â€œAÃ±adir a pantalla de inicioâ€.",
        "Confirma y listo âœ…"
      ]);
    });
  }
</script>

<body>
  <header class="site-header">
    <a href="inicio.html" class="logo-link">
      <img src="assets/logo.png" alt=" " class="logo" />
    </a>
    <a href="inicio.html" class="empresa-nombre"></a>

    <button class="menu-toggle" aria-label="Abrir menÃº">â˜°</button>

    <nav class="navbar">
      <a href="inicio.html#quienes-somos">QuiÃ©nes somos</a>
      <a href="inicio.html#servicios">Servicios</a>
      <a href="inicio.html#ventajas">Ventajas</a>
      <a href="inicio.html#contacto">Contacto</a>
      <a href="index.html" class="highlight-btn">Encuentra tus clips</a>
    </nav>
  </header>

  <main class="site-content fade-in">
    <!-- Breadcrumbs -->
    <div class="titulo-lado">
      <div class="titulo-club">
        <a id="link-club" class="breadcrumb-link" href="#"></a>
        <span id="breadcrumb-sep1"> â€“ </span>
        <a id="link-cancha" class="breadcrumb-link" href="#"></a>
        <span id="breadcrumb-sep2"> â€“ </span>
        <span id="nombre-lado"></span>
      </div>
    </div>

    <!-- Regresar -->
    <div class="btn-volver-container">
      <a href="#" id="btn-volver" class="btn-volver">â† Regresar a la cancha</a>
    </div>

    <!-- Filtro horario -->
    <div id="filtro-horario"></div>

    <!-- Mensaje de carga -->
    <div id="loading" class="aviso" style="display:none;">Cargando videos...</div>

    <!-- Aviso -->
    <div class="aviso">Recuerda que los videos se borran pasadas 24 horas de subida.</div>

    <!-- Videos -->
    <section id="videos-container" class="video-grid"></section>
  </main>

  <!-- Footer interno (diferente al de inicio) -->
  <footer class="site-footer" id="contacto">
  <div class="footer-info">
    <p>
      Â¿Te interesa que estemos en tu club?
      <a
        href="https://wa.me/522206804856?text=Hola%20equipo%20Puntazo!%20Me%20interesa%20llevar%20Puntazo%20a%20mi%20club.%0AClub%3A%20____%0ACiudad%3A%20____%0A%23%20de%20canchas%3A%20____%0AMi%20nombre%3A%20____%0ATel%3A%20____%0AGracias!"
        target="_blank"
        rel="noopener"
      >EscrÃ­benos</a>
    </p>

    <p>Recuerda que los videos se borran pasadas 24 horas.</p>

    <!-- Recuperar puntazo -->
    <p style="margin-top:14px;">
      <strong>Â¿No se registrÃ³ algÃºn puntazo?</strong><br />
      Tu puntazo no merece quedarse en el olvido ğŸ˜­ EscrÃ­benos y lo buscamos.
    </p>

    <a
      class="cta-btn cta-whatsapp footer-wa-cta"
      href="https://wa.me/522206804856?text=Hola%20Puntazo!%20No%20me%20aparecio%20mi%20clip%20y%20quiero%20recuperarlo.%0A%0AFecha%20(dia)%3A%20____%0AClub%3A%20____%0ACancha%3A%20____%0AHora%20exacta%20del%20punto%20(o%20rango%20aprox)%3A%20____%0ALado%20(A/B)%20si%20aplica%3A%20____%0A%0AGracias!"
      target="_blank"
      rel="noopener"
    >ğŸ“¼ Recuperar puntazo</a>
  </div>

  <div class="footer-redes">
    <a href="https://tiktok.com/@puntazoclips" target="_blank" rel="noopener">TikTok</a>
    <a href="https://instagram.com/puntazoclips" target="_blank" rel="noopener">Instagram</a>

    <a
      href="https://wa.me/522206804856?text=Hola%20Puntazo!%20Quiero%20mas%20informacion."
      target="_blank"
      rel="noopener"
    >WhatsApp</a>

    <!-- NUEVO: Instalar Puntazo -->
    <a
      id="installPuntazoBtn"
      href="#"
      class="cta-btn cta-contacto footer-install-btn"
      role="button"
      aria-label="Instalar Puntazo como app"
    >ğŸ“² Instalar Puntazo</a>
  </div>

  <p class="footer-copy">Â© 2026 Puntazo</p>

  <!-- Modal para instrucciones (iPhone y otros casos) -->
  <div id="installModal" class="install-modal" aria-hidden="true">
    <div class="install-backdrop"></div>
    <div class="install-card" role="dialog" aria-modal="true" aria-label="Instalar Puntazo">
      <h3>Agregar Puntazo a tu pantalla ğŸ“²</h3>
      <p id="installSubtitle" style="margin-top:6px; opacity:0.9;">
        Tarda 10 segundos y queda como app.
      </p>
      <ol id="installSteps" class="install-steps"></ol>
      <button id="closeInstallModal" class="cta-btn cta-contacto" type="button">Listo âœ…</button>
    </div>
  </div>
</footer>




  <!-- JS principal (puebla listas, videos, botones, etc.) -->
  <script src="assets/script.js"></script>

  <!-- Navbar: cerrar al scroll o click fuera -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const btn = document.querySelector('.menu-toggle');
      const nav = document.querySelector('.navbar');

      if (!btn || !nav) return;

      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        nav.classList.toggle('show');
      });

      document.addEventListener('click', (e) => {
        if (nav.classList.contains('show') && !nav.contains(e.target) && e.target !== btn) {
          nav.classList.remove('show');
        }
      });

      window.addEventListener('scroll', () => {
        if (nav.classList.contains('show')) nav.classList.remove('show');
      });
    });
  </script>
</body>
</html>
